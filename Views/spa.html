<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Professional Registration - SPA</title>
  <link rel="stylesheet" href="/output.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@400;500;600&family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    .page { display: none; }
    .page.active { display: block; }
    @keyframes slideInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-slide-up { animation: slideInUp 0.6s ease-out; }
  </style>
</head>
<body class="min-h-screen py-8 px-4" style="background: radial-gradient(circle, rgba(209, 130, 163, 1) 23%, rgba(148, 187, 233, 1) 100%);">

  <!-- Navigation -->
  <nav class="max-w-4xl mx-auto mb-6">
    <div class="bg-white/70 p-4 rounded-lg shadow-sm">
      <div class="flex gap-4">
        <button onclick="navigateTo('/')" class="px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors">Form</button>
        <button onclick="navigateTo('/responses')" class="px-4 py-2 rounded-lg bg-purple-500 text-white hover:bg-purple-600 transition-colors">Responses</button>
      </div>
    </div>
  </nav>

  <!-- Form Page -->
  <div id="formPage" class="page active">
    <div class="max-w-4xl mx-auto">
      <div class="bg-gray-100/60 shadow-xl border border-white/60 animate-slide-up p-6 rounded-lg">
        <div class="bg-white/70 p-6 sm:p-8 rounded-lg shadow-sm mb-4">
          <div class="text-center">
            <h1 class="text-3xl sm:text-4xl font-bold mb-2" style="font-family: 'Dancing Script', cursive; background: linear-gradient(to right, #d182a3, #94bbe9); -webkit-background-clip: text; background-clip: text; color: transparent;">Your Details</h1>
            <p class="text-gray-600 text-sm">Complete your profile to get started</p>
          </div>
        </div>
        
        <form id="registrationForm" class="bg-white/70 p-6 sm:p-8 rounded-lg shadow-sm">
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">First Name *</label>
              <input type="text" name="firstName" required class="w-full px-4 py-3 border-2 border-gray-200 bg-white rounded-lg focus:outline-none focus:border-blue-500">
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-2">Last Name *</label>
              <input type="text" name="lastName" required class="w-full px-4 py-3 border-2 border-gray-200 bg-white rounded-lg focus:outline-none focus:border-blue-500">
            </div>
            <div class="sm:col-span-2">
              <label class="block text-sm font-semibold text-gray-700 mb-2">Email *</label>
              <input type="email" name="email" required class="w-full px-4 py-3 border-2 border-gray-200 bg-white rounded-lg focus:outline-none focus:border-blue-500">
            </div>
          </div>
          <button type="submit" class="mt-6 w-full py-3 px-6 bg-gradient-to-r from-pink-400 to-blue-400 text-white rounded-lg font-semibold hover:shadow-lg transition-all">Submit</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Responses Page -->
  <div id="responsesPage" class="page">
    <div class="max-w-4xl mx-auto">
      <div class="bg-gray-100/60 shadow-xl border border-white/60 animate-slide-up p-6 rounded-lg">
        <div class="bg-white/70 p-6 sm:p-8 rounded-lg shadow-sm mb-4">
          <h1 class="text-3xl font-bold text-center" style="font-family: 'Dancing Script', cursive; background: linear-gradient(to right, #d182a3, #94bbe9); -webkit-background-clip: text; background-clip: text; color: transparent;">Form Responses</h1>
        </div>
        <div class="bg-white/70 p-6 sm:p-8 rounded-lg shadow-sm">
          <div id="responsesList">
            <p class="text-center text-gray-500">No responses yet.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Success Page -->
  <div id="successPage" class="page">
    <div class="max-w-lg mx-auto">
      <div class="bg-gray-100/60 shadow-xl border border-white/60 animate-slide-up p-6 rounded-lg">
        <div class="bg-white/70 p-6 text-center rounded-lg shadow-sm">
          <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-pink-400 to-blue-400 flex items-center justify-center">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
          </div>
          <h1 class="text-3xl font-bold mb-4" style="font-family: 'Dancing Script', cursive; background: linear-gradient(to right, #d182a3, #94bbe9); -webkit-background-clip: text; background-clip: text; color: transparent;">Success!</h1>
          <p class="text-gray-600 mb-6">Your form has been submitted successfully</p>
          <button onclick="navigateTo('/')" class="px-6 py-3 bg-gradient-to-r from-pink-400 to-blue-400 text-white rounded-lg font-semibold hover:shadow-lg transition-all">Submit Another</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/router.js"></script>
  <script>
    // Form submission handler
    document.getElementById('registrationForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      const data = Object.fromEntries(formData);
      
      // Store in localStorage
      const responses = JSON.parse(localStorage.getItem('responses') || '[]');
      responses.push({...data, id: Date.now()});
      localStorage.setItem('responses', JSON.stringify(responses));
      
      // Navigate to success page
      navigateTo('/success');
    });

    // Load responses when navigating to responses page
    router.addRoute('/responses', () => {
      showPage('responses');
      loadResponses();
    });

    function loadResponses() {
      const responses = JSON.parse(localStorage.getItem('responses') || '[]');
      const container = document.getElementById('responsesList');
      
      if (responses.length === 0) {
        container.innerHTML = '<p class="text-center text-gray-500">No responses yet.</p>';
        return;
      }
      
      container.innerHTML = responses.map(response => `
        <div class="bg-white p-4 rounded-lg shadow-sm mb-4 border-l-4 border-pink-400">
          <p><strong>Name:</strong> ${response.firstName} ${response.lastName}</p>
          <p><strong>Email:</strong> ${response.email}</p>
          <button onclick="deleteResponse(${response.id})" class="mt-2 px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600">Delete</button>
        </div>
      `).join('');
    }

    function deleteResponse(id) {
      if (confirm('Delete this response?')) {
        const responses = JSON.parse(localStorage.getItem('responses') || '[]');
        const filtered = responses.filter(r => r.id !== id);
        localStorage.setItem('responses', JSON.stringify(filtered));
        loadResponses();
      }
    }
  </script>
</body>
</html>